# 核心诉求

docker 部署一个项目，用户可以通过 api 创建 youtube 视频的下载任务，服务端完成下载对外提供一个对应文件的下载地址。
- 对外暴露 api 接口，需要鉴权。
- 只需要下载 audio+transcript，不需要下载 video。质量优先选择 128kbps。下载的音频文件默认保存 180 天，过期自动删除。
- 需要针对 youtube 的风控做处理，引入 tls 指纹 + potoken 的机制避免被服务端识别为自动化工具。
- 默认并发 1 ，配置在环境变量里。需要做好队列管理和频率控制、出错重试机制，避免短时间内高频下载被封禁 ip。
- 除了返回下载地址，还需要返回 ytdlp 获取的一些 video 其他信息，比如 title,author,description等。
- 需要考虑好服务端和客户端的协调机制，比如下载完成之后，客户端需要知道下载完成，才能进行下一步操作。
- 需要引入企业微信通知，系统启动+下载完成+出错都需要通知。启动时附带当前系统的 ip 和基础配置。
- 可选功能引入 cookie 文件，用户可以自定义 cookie 文件，用于下载需要 cookie 的视频。

# 背景信息
@"docs\Youtube 风控.md", Youtube 风控变严格，单纯的 ytdlp 配置已经无法适应大批量的 youtube 音视频下载需求。